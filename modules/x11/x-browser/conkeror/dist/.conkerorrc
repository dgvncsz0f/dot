require("clicks-in-new-buffer.js");

var kk_event = function kk_event (event) {
  var elem = event.target;
  if (event.which != 13)
  { event.stopPropagation (); }
};

define_page_mode("kk-mode", [/./],
 function enable (buffer) {
   buffer.browser.addEventListener("keyup", kk_event, true);
   buffer.browser.addEventListener("keydown", kk_event, true);
 },
 function disable (buffer) {
   buffer.browser.removeEventListener("keyup", kk_event, true);
   buffer.browser.removeEventListener("keydown", kk_event, true);
 }, $display_name = "kk");
page_mode_activate(kk_mode);

homepage                        = "about:blank";
url_completion_use_history      = true;
url_completion_use_bookmarks    = true;
url_remoting_fn                 = load_url_in_new_buffer;
hints_display_url_panel         = true;
view_source_use_external_editor = true;

// clicks_in_new_buffer_target = OPEN_NEW_BUFFER_BACKGROUND;
clicks_in_new_buffer_button = 1;

define_webjump( "?", "http://google.com/search?q=%s",
                $alternative = "http://google.com"
              );
define_webjump( "?s", "http://scholar.google.com/scholar?q=%s",
                $alternative = "http://scholar.google.com"
              );

register_user_stylesheet(
    make_css_data_uri(["* {font-size:14px; font-family:'Iosevka Term';}"],
                      $namespace = XUL_NS));
