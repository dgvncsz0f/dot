#!/usr/bin/expect

set password [exec $env(HOME)/.dot/bin/pwdshow [lindex $argv 0]]
eval spawn [lrange $argv 1 [llength $argv]]

expect {
  "password: " {
    send "$password\n"
    exp_continue
  }
  "Are you sure*(yes/no)? " {
    send "yes\n"
    exp_continue
  }
  "Last login:" {
    interact -nobuffer
  }
  eof {
    exit
  }
}
